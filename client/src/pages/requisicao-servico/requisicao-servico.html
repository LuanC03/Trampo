
<ion-header class="requisicao-header">
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <h5>Requisição de Serviço</h5>
  </ion-navbar>
</ion-header>

<ion-content class="requisicao-content">
  <div padding>
    <ion-list>
     
      <form name="dadosServicoForm">
        <ion-card-content>

          <h5>Serviço</h5>
          <ion-list>
              <ion-item>
                <ion-label>Descrição:</ion-label>
                <ion-input type="text" name="descricao" [(ngModel)]="dados_servico.descricao"></ion-input>            
              </ion-item>
            <ion-item>
              <ion-label floating> Tipo do Serviço: </ion-label>
              <ion-select name="specs" [(ngModel)]="dados_servico.tipo">
                <ion-option *ngFor="let especialidade of especialidades">{{especialidade}}</ion-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label>Data do Serviço:</ion-label>
              <ion-datetime displayFormat="DD MMM YYYY" name="data"[(ngModel)]="dados_servico.data"></ion-datetime>
            </ion-item>
            <ion-item>
              <ion-label>Horário do Serviço:</ion-label>
              <ion-datetime displayFormat="H:mm " pickerFormat="H mm" name="horario" [(ngModel)]="dados_servico.horario"></ion-datetime>            
            </ion-item>          
            <ion-item>
              <ion-label>Valor do Serviço (R$):</ion-label>
              <ion-input placeholder="00,00" type="tel" required="required" maxlength="25" pattern="([0-9]{1,3}\.)?[0-9]{1,3},[0-9]{2}$" name="valorservico" [(ngModel)]="dados_servico.valor"></ion-input>
            </ion-item>
          </ion-list>

          <ion-card-content>
            <h5>Endereço</h5>
            <ion-list>
              <ion-item>
                <ion-label>Bairro:</ion-label>
                <ion-input type="text" name="bairro" pattern=".{5,}" [(ngModel)]="dados_servico.endereco.bairro"></ion-input>            
              </ion-item>
              <ion-item>
                <ion-label>Rua:</ion-label>
                <ion-input type="text" name="rua" pattern=".{5,}" [(ngModel)]="dados_servico.endereco.rua"></ion-input>            
              </ion-item>
              <ion-item>
                <ion-label>Número:</ion-label>
                <ion-input type="number" name="numero" pattern="([0-9]{2,})" min="000" [(ngModel)]="dados_servico.endereco.numero"></ion-input>
              </ion-item>      
            </ion-list>
          </ion-card-content>

        </ion-card-content>
      </form>
     
      <ion-item>
        <button class="confirmar" ion-button round full color="pink" (click)="cadastrar(dados_servico)" [disabled]="!isEnabled()">
          <ion-icon ios="ios-checkmark" md="md-checkmark"></ion-icon>Confirmar Requisição
        </button>
      </ion-item>

      <ion-item>      
        <button class="voltar" ion-button round full color="pink" (click)="ionBackPage()">
          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>Voltar
        </button>      
      </ion-item>

    </ion-list> 
  </div>

</ion-content>